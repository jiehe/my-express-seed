
    
    <div id="wmd-preview" class="wmd-preview wmd-preview-full-reader"><div class="md-section-divider"></div>

<div class="md-section-divider"></div>

<h1 data-anchor-id="zeu5" id="url-module-&#x94FE;&#x63A5;&#x7684;&#x7BA1;&#x7406;">url module  &#x94FE;&#x63A5;&#x7684;&#x7BA1;&#x7406;</h1>

<p data-anchor-id="vur0"><code>nodejs</code><div id="reader-full-topInfo" class="reader-full-topInfo-shown">
        
        <code><span class="article-updated-date">2015-05-31 10:18:12</span></code>
        <code><span>&#x5B57;&#x6570; </span><span class="article-characters">853</span></code>
        <code><span>&#x9605;&#x8BFB; </span><span class="article-read">13</span></code>
    </div></p>

<hr>

<p data-anchor-id="jqyb">req.query.orderId <br>
&#x83B7;&#x53D6;&#x5230;get&#x7684;orderId</p>

<div class="md-section-divider"></div>

<pre class="prettyprint linenums prettyprinted" data-anchor-id="xib5"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">&apos;url&apos;</span><span class="pun">);</span></code></li><li class="L1"><code></code></li><li class="L2"><code><span class="pln">url</span><span class="pun">.</span><span class="pln">parse</span><span class="pun">(</span><span class="pln">req</span><span class="pun">.</span><span class="pln">url</span><span class="pun">).</span><span class="pln">query</span></code></li><li class="L3"><code><span class="com">//&quot;groupId=undefined&amp;pageNum=undefined&amp;keyword=undefined&amp;pageSize=12&amp;showStyle=block&amp;orderBy=price&amp;orderAsAsc=true&quot;  </span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="pln">url</span><span class="pun">.</span><span class="pln">parse</span><span class="pun">(</span><span class="pln">req</span><span class="pun">.</span><span class="pln">url</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">).</span><span class="pln">query</span></code></li><li class="L6"><code><span class="pun">=&gt;</span><span class="kwd">object</span><span class="pun">={</span></code></li><li class="L7"><code><span class="pln">groupId</span><span class="pun">:</span><span class="pln"> </span><span class="str">&quot;undefined&quot;</span></code></li><li class="L8"><code><span class="pln">keyword</span><span class="pun">:</span><span class="pln"> </span><span class="str">&quot;undefined&quot;</span></code></li><li class="L9"><code><span class="pln">orderAsAsc</span><span class="pun">:</span><span class="pln"> </span><span class="str">&quot;true&quot;</span></code></li><li class="L0"><code><span class="pln">orderBy</span><span class="pun">:</span><span class="pln"> </span><span class="str">&quot;price&quot;</span></code></li><li class="L1"><code><span class="pln">pageNum</span><span class="pun">:</span><span class="pln"> </span><span class="str">&quot;undefined&quot;</span></code></li><li class="L2"><code><span class="pln">pageSize</span><span class="pun">:</span><span class="pln"> </span><span class="str">&quot;12&quot;</span></code></li><li class="L3"><code><span class="pln">showStyle</span><span class="pun">:</span><span class="pln"> </span><span class="str">&quot;block&quot;</span></code></li><li class="L4"><code><span class="pln">__proto__</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Object</span></code></li><li class="L5"><code><span class="pun">}</span></code></li><li class="L6"><code></code></li><li class="L7"><code><span class="pun">.</span><span class="pln">req</span><span class="pun">.</span><span class="pln">param</span><span class="pun">(</span><span class="str">&apos;keyword&apos;</span><span class="pun">)</span><span class="pln">  </span><span class="pun">&#x83B7;&#x53D6;</span><span class="kwd">get</span><span class="pun">&#x4F20;&#x53C2;&#x7684;&#x952E;&#x503C;</span></code></li></ol></pre>

<p data-anchor-id="8kva">&#x5F53;&#x94FE;&#x63A5;&#x6709;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x9488;&#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x94FE;&#x63A5;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x53EA;&#x53C2;&#x6570;&#x53D8;&#x5316;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x529E;&#x6CD5;</p>

<div class="md-section-divider"></div>

<pre class="prettyprint linenums prettyprinted" data-anchor-id="jgnq"><ol class="linenums"><li class="L0"><code><span class="pln">  </span><span class="com">//&#x7BA1;&#x7406;url&#xFF0C;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x8C61;</span></code></li><li class="L1"><code><span class="pln">  </span><span class="kwd">function</span><span class="pln"> queryUrl</span><span class="pun">(</span><span class="pln">param</span><span class="pun">,</span><span class="pln"> hash</span><span class="pun">){</span></code></li><li class="L2"><code></code></li><li class="L3"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> getParam </span><span class="pun">=</span><span class="pln"> url</span><span class="pun">.</span><span class="pln">parse</span><span class="pun">(</span><span class="pln">req</span><span class="pun">.</span><span class="pln">url</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">).</span><span class="pln">query</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pln">    _</span><span class="pun">.</span><span class="pln">each</span><span class="pun">(</span><span class="pln">getParam</span><span class="pun">,</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">val</span><span class="pun">,</span><span class="pln">key</span><span class="pun">){</span></code></li><li class="L5"><code><span class="pln">    </span><span class="com">//undefined&#x3001;null &#x6CA1;&#x6709;toString&#x529E;&#x6CD5;&#xFF0C;&#x8981;&#x7528;String&#xFF08;undefined&#xFF09;&#x628A;undefined&#x8F6C;&#x5316;&#x6210;&#x5B57;&#x7B26;&#x4E32;</span></code></li><li class="L6"><code><span class="pln">      </span><span class="kwd">if</span><span class="pun">([</span><span class="str">&apos;null&apos;</span><span class="pun">,</span><span class="str">&apos;undefined&apos;</span><span class="pun">,</span><span class="str">&apos;&apos;</span><span class="pun">].</span><span class="pln">indexOf</span><span class="pun">(</span><span class="typ">String</span><span class="pun">(</span><span class="pln">val</span><span class="pun">))</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">){</span></code></li><li class="L7"><code><span class="pln">        </span><span class="kwd">delete</span><span class="pln"> getParam</span><span class="pun">[</span><span class="pln">key</span><span class="pun">];</span></code></li><li class="L8"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L9"><code><span class="pln">    </span><span class="pun">});</span></code></li><li class="L0"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> hash </span><span class="pun">=</span><span class="pln"> hash</span><span class="pun">?</span><span class="pln">hash</span><span class="pun">:</span><span class="str">&apos;&apos;</span><span class="pun">;</span></code></li><li class="L1"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> options </span><span class="pun">=</span><span class="pln"> _</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">(</span><span class="pln">getParam</span><span class="pun">,</span><span class="pln">param</span><span class="pun">);</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> url</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">_</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">({</span></code></li><li class="L3"><code><span class="pln">      pathname</span><span class="pun">:</span><span class="str">&apos;/list&apos;</span><span class="pun">,</span></code></li><li class="L4"><code><span class="pln">      query</span><span class="pun">:</span><span class="pln">options</span><span class="pun">,</span></code></li><li class="L5"><code><span class="pln">      hash</span><span class="pun">:</span><span class="pln">hash</span></code></li><li class="L6"><code><span class="pln">    </span><span class="pun">}));</span></code></li><li class="L7"><code><span class="pln">  </span><span class="pun">}</span></code></li></ol></pre></div>
    <div class="remark-icons">
    </div>
